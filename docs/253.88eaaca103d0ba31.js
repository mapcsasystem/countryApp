"use strict";(self.webpackChunkcountryApp=self.webpackChunkcountryApp||[]).push([[253],{6253:(ht,T,r)=>{r.r(T),r.d(T,{CountriesModule:()=>pt});var t=r(5879),u=r(6814),Z=r(9862),B=r(6223),p=r(1896);var h=r(6306),d=r(2096),U=r(7398);let g=(()=>{class e{constructor(){this._http=(0,t.f3M)(Z.eN),this._apiUrl="https://restcountries.com/v3.1"}searchByCapital(n){return this._http.get(`${this._apiUrl}/capital/${n}`).pipe((0,h.K)(a=>(0,d.of)([])))}searchByCountry(n){return this._http.get(`${this._apiUrl}/name/${n}`).pipe((0,h.K)(a=>(0,d.of)([])))}searchByRegion(n){return this._http.get(`${this._apiUrl}/region/${n}`).pipe((0,h.K)(a=>(0,d.of)([])))}searchCoutryByAlphaCode(n){return this._http.get(`${this._apiUrl}/alpha/${n}`).pipe((0,U.U)(a=>a.length>0?a[0]:null),(0,h.K)(a=>(0,d.of)(null)))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=r(617),S=r(2032),f=r(4170);let C=(()=>{class e{constructor(){this.placeholder="",this.onValue=new t.vpe}emmitValue(n){this.onValue.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["shared-search-box"]],inputs:{placeholder:"placeholder"},outputs:{onValue:"onValue"},decls:8,vars:1,consts:[[1,"w-full","flex","flex-row"],["appearance","outline",1,"w-full"],["matInput","",3,"placeholder","keyup.enter"],["txtInput",""],["matSuffix",""]],template:function(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Buscar"),t.qZA(),t.TgZ(4,"input",2,3),t.NdJ("keyup.enter",function(){t.CHM(i);const m=t.MAs(5);return t.KtG(a.emmitValue(m.value))}),t.qZA(),t.TgZ(6,"mat-icon",4),t._uU(7,"search"),t.qZA()()()}2&n&&(t.xp6(4),t.Q6J("placeholder",a.placeholder))},dependencies:[M.Hw,S.Nt,f.KE,f.hX,f.R9],changeDetection:0}),e})();var x=r(1584),c=r(5313),y=r(3566),v=r(2296),l=r(5195);function N(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"#"),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const a=o.index;t.Akn("font-size: 10px;background-color:"+o.$implicit.color+";color:black"),t.xp6(1),t.hij(" ",a+1," ")}}function k(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"ICON"),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Akn("font-size: 10px;background-color:"+n.color+";color:black"),t.xp6(1),t.hij(" ",n.flag," ")}}function D(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"BANDERA"),t.qZA())}function R(e,o){if(1&e&&(t.TgZ(0,"td",19),t._UZ(1,"img",20),t.qZA()),2&e){const n=o.$implicit;t.Akn("font-size: 10px;background-color:"+n.color+";color:black"),t.xp6(1),t.Q6J("src",n.flags.svg,t.LSH)("alt",n.name.common)}}function O(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"PA\xcdS"),t.qZA())}function z(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Akn("font-size: 10px;background-color:"+n.color+";color:black"),t.xp6(1),t.hij(" ",n.name.common," ")}}function Q(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"POBLACI\xd3N"),t.qZA())}function Y(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=o.$implicit;t.Akn("font-size: 10px;background-color:"+n.color+";color:black"),t.xp6(1),t.hij(" ",t.lcZ(2,3,n.population)," ")}}function F(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"CAPITAL"),t.qZA())}function V(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Akn("font-size: 10px;"),t.xp6(1),t.hij(" ",n.capital," ")}}function $(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"ACCIONES"),t.qZA())}const E=function(e){return["/countries/by",e]};function q(e,o){if(1&e&&(t.TgZ(0,"td",19)(1,"a",22),t._uU(2,"Ver mas..."),t.qZA()()),2&e){const n=o.$implicit;t.Akn("font-size: 10px;"),t.xp6(1),t.Q6J("routerLink",t.VKq(3,E,n.cca3))}}function I(e,o){1&e&&t._UZ(0,"tr",23)}function j(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"tr",24),t.NdJ("click",function(){const s=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.clickedRows(s))}),t.qZA()}}function H(e,o){if(1&e&&(t.TgZ(0,"tr",25)(1,"td",26),t._uU(2),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.hij('No hay datos pa\xedses con "',n.term,'"')}}const X=function(){return[5,10,25]};let _=(()=>{class e{constructor(){this.countries=[],this.displayedColumns=["#","icon","flag","country","population","capital","actions"]}ngOnInit(){this.addCountries()}ngOnChanges(n){this.addCountries()}addCountries(){this.dataSource=new c.by([...this.countries]),this.paginator._intl.firstPageLabel="Primera p\xe1gina",this.paginator._intl.itemsPerPageLabel="Datos por p\xe1gina",this.paginator._intl.lastPageLabel="\xfaltima p\xe1gina",this.paginator._intl.nextPageLabel="Siguiente p\xe1gina",this.paginator._intl.previousPageLabel="P\xe1gina anterior",this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}clickedRows(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["countries-table"]],viewQuery:function(n,a){if(1&n&&(t.Gf(x.NW,7),t.Gf(y.YE,5)),2&n){let i;t.iGM(i=t.CRH())&&(a.paginator=i.first),t.iGM(i=t.CRH())&&(a.sort=i.first)}},inputs:{countries:"countries",term:"term"},features:[t.TTD],decls:29,vars:5,consts:[[1,"mat-elevation-z0"],[1,"mat-elevation-z8","displayBlock"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","mat-sort-header","","style","font-size: 12px;",4,"matHeaderCellDef"],["mat-cell","",3,"style",4,"matCellDef"],["matColumnDef","icon"],["matColumnDef","flag"],["matColumnDef","country"],["matColumnDef","population"],["matColumnDef","capital"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","style","font-size: 12px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",1,"mat-elevation-z8",3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header","",2,"font-size","12px"],["mat-cell",""],["width","25",3,"src","alt"],["mat-header-cell","",2,"font-size","12px"],["mat-raised-button","",3,"routerLink"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(n,a){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content",1)(2,"table",2),t.ynx(3,3),t.YNc(4,N,2,0,"th",4),t.YNc(5,J,2,3,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,k,2,0,"th",4),t.YNc(8,w,2,3,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,D,2,0,"th",4),t.YNc(11,R,2,4,"td",5),t.BQk(),t.ynx(12,8),t.YNc(13,O,2,0,"th",4),t.YNc(14,z,2,3,"td",5),t.BQk(),t.ynx(15,9),t.YNc(16,Q,2,0,"th",4),t.YNc(17,Y,3,5,"td",5),t.BQk(),t.ynx(18,10),t.YNc(19,F,2,0,"th",4),t.YNc(20,V,2,3,"td",5),t.BQk(),t.ynx(21,11),t.YNc(22,$,2,0,"th",12),t.YNc(23,q,3,5,"td",5),t.BQk(),t.YNc(24,I,1,0,"tr",13),t.YNc(25,j,1,0,"tr",14),t.YNc(26,H,3,1,"tr",15),t.qZA()(),t._UZ(27,"mat-paginator",16,17),t.qZA()),2&n&&(t.xp6(2),t.Q6J("dataSource",a.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,X)))},dependencies:[p.rH,v.zs,l.a8,l.dn,x.NW,y.YE,y.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee,u.JJ],styles:[".displayBlock[_ngcontent-%COMP%]{height:52vh}table[_ngcontent-%COMP%]{width:100%;height:auto}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}"]}),e})(),L=(()=>{class e{constructor(){this._countriesService=(0,t.f3M)(g),this.countries=[],this.term=""}seachByCapital(n){this._countriesService.searchByCapital(n).subscribe(a=>{this.countries=[...a],this.term=n})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["by-capital"]],decls:5,vars:3,consts:[[3,"placeholder","onValue"],[3,"countries","term"]],template:function(n,a){1&n&&(t.TgZ(0,"h2"),t._uU(1," Por Capital\n"),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"shared-search-box",0),t.NdJ("onValue",function(s){return a.seachByCapital(s)}),t.qZA(),t._UZ(4,"countries-table",1)),2&n&&(t.xp6(3),t.Q6J("placeholder","Buscar por capital..."),t.xp6(1),t.Q6J("countries",a.countries)("term",a.term))},dependencies:[C,_]}),e})(),G=(()=>{class e{constructor(){this._countriesService=(0,t.f3M)(g),this.countries=[],this.term=""}searchByCountry(n){this._countriesService.searchByCountry(n).subscribe(a=>{this.countries=[...a],this.term=n})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["by-country"]],decls:5,vars:3,consts:[[3,"placeholder","onValue"],[3,"countries","term"]],template:function(n,a){1&n&&(t.TgZ(0,"h2"),t._uU(1," Por Pa\xeds\n"),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"shared-search-box",0),t.NdJ("onValue",function(s){return a.searchByCountry(s)}),t.qZA(),t._UZ(4,"countries-table",1)),2&n&&(t.xp6(3),t.Q6J("placeholder","Buscar por pa\xeds..."),t.xp6(1),t.Q6J("countries",a.countries)("term",a.term))},dependencies:[C,_]}),e})(),K=(()=>{class e{constructor(){this._countriesService=(0,t.f3M)(g),this.countries=[],this.term=""}seachByRegion(n){this._countriesService.searchByRegion(n).subscribe(a=>{this.countries=[...a],this.term=n})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["by-region"]],decls:5,vars:3,consts:[[3,"placeholder","onValue"],[3,"countries","term"]],template:function(n,a){1&n&&(t.TgZ(0,"h2"),t._uU(1," Por Regi\xf3n\n"),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"shared-search-box",0),t.NdJ("onValue",function(s){return a.seachByRegion(s)}),t.qZA(),t._UZ(4,"countries-table",1)),2&n&&(t.xp6(3),t.Q6J("placeholder","Buscar por region..."),t.xp6(1),t.Q6J("countries",a.countries)("term",a.term))},dependencies:[C,_]}),e})();var W=r(7394),tt=r(4664),et=r(8424),b=r(2557),A=r(1919);function nt(e,o){if(1&e&&(t.TgZ(0,"mat-chip",11),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.common," ")}}function ot(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-header"),t._UZ(3,"div",4),t.TgZ(4,"mat-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-subtitle"),t._uU(7),t.qZA()(),t.TgZ(8,"div"),t._UZ(9,"img",5),t.qZA(),t.TgZ(10,"mat-card-content")(11,"mat-list",6)(12,"mat-list-item",7),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"mat-list-item",7),t._uU(16),t.qZA()(),t.TgZ(17,"mat-card-subtitle"),t._uU(18,"Traducci\xf3nes Idiomas"),t.qZA(),t.TgZ(19,"mat-chip-set"),t.YNc(20,nt,2,1,"mat-chip",8),t.qZA()(),t.TgZ(21,"mat-card-actions",9)(22,"button",10),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.goReturn())}),t._uU(23,"Regresar"),t.qZA()()()()}if(2&e){const n=t.oxw();t.xp6(3),t.Akn(n.url),t.xp6(2),t.Oqu(n.country.name.common),t.xp6(2),t.Oqu(n.country.capital),t.xp6(2),t.Q6J("src",n.country.flags.png,t.LSH)("alt",n.country.name.common),t.xp6(4),t.hij("Poblacion: ",t.lcZ(14,9,n.country.population),""),t.xp6(3),t.hij("C\xf3digo: ",n.country.cca3,""),t.xp6(4),t.Q6J("ngForOf",n.translations)}}function at(e,o){1&e&&t._UZ(0,"div")}const rt=[{path:"by-capital",component:L},{path:"by-country",component:G},{path:"by-region",component:K},{path:"by/:id",component:(()=>{class e{constructor(){this._activatedRoute=(0,t.f3M)(p.gz),this._countriesService=(0,t.f3M)(g),this._router=(0,t.f3M)(p.F0),this._subscription=new W.w0,this.loadingService=(0,t.f3M)(et.b),this.url="",this.translations=[]}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this._subscription.add(this._activatedRoute.params.pipe((0,tt.w)(({id:n})=>this._countriesService.searchCoutryByAlphaCode(n))).subscribe(n=>{if(!n)return this._router.navigateByUrl("");this.country=n,this.url=`background-image:url("${n.flags.png}")`;const a=[];for(const i in n.translations)a.push(i),this.translations.push(n.translations[i]);this.translations=this.deleteDuplicates(this.translations)}))},500)}deleteDuplicates(n){return n.filter((a,i,s)=>i===s.findIndex(mt=>mt.common===a.common))}goReturn(){this._router.navigateByUrl("countries")}ngOnDestroy(){this._subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["by-country-page"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["loading",""],[1,"container"],[1,"card"],["mat-card-avatar","",1,"header-image"],["mat-card-image","",3,"src","alt"],["role","list"],["role","listitem"],["class","box",4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],[1,"box"]],template:function(n,a){if(1&n&&(t.YNc(0,ot,24,11,"div",0),t.YNc(1,at,1,0,"ng-template",null,1,t.W1O)),2&n){const i=t.MAs(2);t.Q6J("ngIf",a.country)("ngIfElse",i)}},dependencies:[u.sg,u.O5,v.lW,l.a8,l.hq,l.kc,l.dn,l.dk,l.G2,l.$j,l.n5,b.HS,b.J4,A.i$,A.Tg,u.JJ],styles:[".container[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.card[_ngcontent-%COMP%]{max-width:400px}.header-image[_ngcontent-%COMP%]{background-size:cover}.box.cdk-drag-animating[_ngcontent-%COMP%], .chip[_ngcontent-%COMP%]   .cdk-drop-list-dragging[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),e})()},{path:"**",redirectTo:"by-capital"}];let it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(rt),p.Bz]}),e})();var ct=r(1419),st=r(6208),lt=r(2381),ut=r(3680);(0,u.qS)(lt.Z,"es-MX");let pt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:ut.Ad,useValue:"es-MX"},{provide:t.soG,useValue:"es-MX"},{provide:t.EJc,useValue:"MXN"}],imports:[u.ez,it,Z.JF,B.UX,ct.q,st.m]}),e})()}}]);